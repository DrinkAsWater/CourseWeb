@model IEnumerable<CourseScheduleViewModel>
@{


    ViewData["Title"] = "Home Page";
}

<div id="courseCarousel" class="carousel slide mb-5" data-bs-ride="carousel">
    <div class="carousel-indicators">
        <button type="button" data-bs-target="#courseCarousel" data-bs-slide-to="0" class="active"></button>
        <button type="button" data-bs-target="#courseCarousel" data-bs-slide-to="1"></button>
        <button type="button" data-bs-target="#courseCarousel" data-bs-slide-to="2"></button>
        <button type="button" data-bs-target="#courseCarousel" data-bs-slide-to="3"></button>
        <button type="button" data-bs-target="#courseCarousel" data-bs-slide-to="4"></button>
        <button type="button" data-bs-target="#courseCarousel" data-bs-slide-to="5"></button>
    </div>
    <div class="carousel-inner">
        <div class="carousel-item active">
            <img src="https://picsum.photos/1200/400?random=1" class="d-block w-100" alt="C# 入門">
            <div class="carousel-caption d-none d-md-block bg-dark bg-opacity-50 rounded p-2">
                <h5>C# 入門</h5>
                <p>從零開始學習 C# 語言，建立程式基礎。</p>
            </div>
        </div>
        <div class="carousel-item">
            <img src="https://picsum.photos/1200/400?random=2" class="d-block w-100" alt="ASP.NET Core MVC">
            <div class="carousel-caption d-none d-md-block bg-dark bg-opacity-50 rounded p-2">
                <h5>ASP.NET Core MVC</h5>
                <p>建立完整的 MVC 網站與應用程式。</p>
            </div>
        </div>
        <div class="carousel-item">
            <img src="https://picsum.photos/1200/400?random=3" class="d-block w-100" alt="Entity Framework Core">
            <div class="carousel-caption d-none d-md-block bg-dark bg-opacity-50 rounded p-2">
                <h5>Entity Framework Core</h5>
                <p>掌握資料庫操作與 ORM 技術，快速開發資料導向應用程式。</p>
            </div>
        </div>
        <div class="carousel-item">
            <img src="https://picsum.photos/1200/400?random=4" class="d-block w-100" alt="JavaScript 入門">
            <div class="carousel-caption d-none d-md-block bg-dark bg-opacity-50 rounded p-2">
                <h5>JavaScript 入門</h5>
                <p>學習前端程式語言，建立互動式網頁效果。</p>
            </div>
        </div>
        <div class="carousel-item">
            <img src="https://picsum.photos/1200/400?random=5" class="d-block w-100" alt="HTML & CSS 基礎">
            <div class="carousel-caption d-none d-md-block bg-dark bg-opacity-50 rounded p-2">
                <h5>HTML & CSS 基礎</h5>
                <p>建立網頁骨架與樣式，學習網頁設計基礎。</p>
            </div>
        </div>
        <div class="carousel-item">
            <img src="https://picsum.photos/1200/400?random=6" class="d-block w-100" alt="React 入門">
            <div class="carousel-caption d-none d-md-block bg-dark bg-opacity-50 rounded p-2">
                <h5>React 入門</h5>
                <p>學習 React 框架，建立現代化前端應用程式。</p>
            </div>
        </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#courseCarousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon"></span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#courseCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon"></span>
    </button>
</div>
<!-- ===== 課程卡片 ===== -->
<div class="container">
    <h2 class="mb-4 text-center">熱門課程</h2>
    <div class="row row-cols-1 row-cols-md-3 g-4">

        @foreach (var item in Model)
        {
            <div class="col">
                <div class="card h-100 shadow-sm">
                    <img src="https://picsum.photos/400/200?random=@item.Id"
                         class="card-img-top"
                         alt="@item.CourseName">

                    <div class="card-body">
                        <h5 class="card-title">@item.CourseName</h5>

                        <!-- 簡短描述 -->
                        <p class="card-text">
                            @(item.Desc?.Length > 50
                                ? item.Desc.Substring(0, 50) + "..."
                                : item.Desc)
                        </p>

                        <ul class="list-unstyled small mb-0">
                            <li><strong>課程編號：</strong>@item.CourseCode</li>
                            <li><strong>老師：</strong>@item.TeacherName</li>
                            <li><strong>地點：</strong>@item.Location</li>
                            <li><strong>時數：</strong>@item.Times 小時</li>
                        </ul>
                    </div>

                    <div class="card-footer text-end">
                        <!-- 🔴 觸發 Modal -->
                        <button class="btn btn-primary btn-sm"
                                data-bs-toggle="modal"
                                data-bs-target="#courseModal-@item.Id">
                            查看更多
                        </button>
                    </div>
                </div>
            </div>

            <!-- ===== Modal（彈跳視窗） ===== -->
            <div class="modal fade"
                 id="courseModal-@item.Id"
                 tabindex="-1"
                 aria-hidden="true">

                <div class="modal-dialog modal-lg modal-dialog-centered">
                    <div class="modal-content">

                        <div class="modal-header">
                            <h5 class="modal-title">@item.CourseName</h5>
                            <button type="button"
                                    class="btn-close"
                                    data-bs-dismiss="modal"></button>
                        </div>

                        <div class="modal-body">
                            <p><strong>課程編號：</strong>@item.CourseCode</p>
                            <p><strong>老師：</strong>@item.TeacherName</p>
                            <p><strong>地點：</strong>@item.Location</p>
                            <p><strong>時數：</strong>@item.Times 小時</p>
                            <p>
                                <strong>上課日期：</strong>
                                @item.StartDate.ToString("yyyy/MM/dd")
                                ~
                                @item.EndDate.ToString("yyyy/MM/dd")
                            </p>

                            <hr />

                            <p>@item.Desc</p>
                        </div>

                        <div class="modal-footer">
                            <button type="button"
                                    class="btn btn-secondary"
                                    data-bs-dismiss="modal">
                                關閉
                            </button>
                        </div>

                    </div>
                </div>
            </div>
        }

    </div>
</div>

